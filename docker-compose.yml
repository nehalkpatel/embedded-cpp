services:
  embedded-cpp-dev:
    build:
      context: .
      dockerfile: Dockerfile
    image: embedded-cpp-docker:latest
    user: "${UID:-1000}:${GID:-1000}"
    volumes:
      - .:/home/vscode/workspace
    working_dir: /home/vscode/workspace

  host-debug:
    extends: embedded-cpp-dev
    command: /bin/bash -c "cmake --workflow --preset host-debug"

  host-release:
    extends: embedded-cpp-dev
    command: /bin/bash -c "cmake --workflow --preset host-release"


